{"version":3,"sources":["webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?b7a5","webpack:///./src/pages/Login.vue"],"names":["vue_esm","use","button_default","a","field_default","cell_default","Login","name","components","Backheader","data","phone","password","methods","login","_this","this","axios_default","post","username","then","toast_default","message","iconClass","$store","commit","$router","push","catch","err","console","log","computed","phoneState","test","passwordState","length","type","isAllOk","pages_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","title","slot","src","__webpack_require__","width","height","placeholder","state","model","value","callback","$$v","expression","size","disabled","nativeOn","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kSAyBAA,EAAA,QAAAC,IAAAC,EAAAC,EAAAC,EAAAD,EAAAE,EAAAF,GAEA,IAAAG,GACAC,KAAA,WACAC,YACAC,aAAA,GAEAC,KALA,WAMA,OACAC,MAAA,GACAC,SAAA,KAGAC,SACAC,MADA,WACA,IAAAC,EAAAC,KACMC,EAAAd,EAANe,KAAA,wCACAC,SAAAH,KAAAL,MACAC,SAAAI,KAAAJ,WACAQ,KAAA,SAAAV,IAEA,IAAAA,OACUW,KACVC,QAAA,UACAC,UAAA,0BAEA,IAAAb,OACUW,KACVC,QAAA,QACAC,UAAA,wBAEA,IAAAb,OACUW,KACVC,QAAA,UACAC,UAAA,yBAGUF,KACVC,QAAA,UACAC,UAAA,6BAEAR,EAAAS,OAAAC,OAAA,uBACAV,EAAAW,QAAAC,KAAA,YAEAC,MAAA,SAAAC,GAAA,OAAAC,QAAAC,IAAAF,OAqCAG,UACAC,WADA,WAEA,WAAAjB,KAAAL,MACA,GAEA,+BAAAuB,KAAAlB,KAAAL,OACA,UAEA,SAIAwB,cAZA,WAaA,WAAAnB,KAAAJ,SACA,GAEAI,KAAAJ,SAAAwB,QAAA,EACA,UAEA,SAIAC,KAvBA,WAwBA,kBAAArB,KAAAiB,YAAA,YAAAjB,KAAAmB,cACA,UAEA,WAGAG,QA9BA,WA+BA,kBAAAtB,KAAAiB,YAAA,YAAAjB,KAAAmB,iBCrIeI,GADEC,OAFjB,WAA0B,IAAAC,EAAAzB,KAAa0B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,cAAAH,EAAAM,GAAA,KAAAH,EAAA,OAAyCE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,WAAgBE,YAAA,aAAAE,OAAgCC,MAAA,UAAgBL,EAAA,QAAaE,YAAA,SAAmBL,EAAAM,GAAA,eAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA8CI,OAAOE,KAAA,OAAAC,IAAoBC,EAAQ,QAA6BC,MAAA,KAAAC,OAAA,MAA6BJ,KAAA,WAAaT,EAAAM,GAAA,KAAAH,EAAA,YAA+BI,OAAOO,YAAA,SAAAlB,KAAA,MAAAmB,MAAAf,EAAAR,YAA2DwB,OAAQC,MAAAjB,EAAA,MAAAkB,SAAA,SAAAC,GAA2CnB,EAAA9B,MAAAiD,GAAcC,WAAA,WAAqBpB,EAAAM,GAAA,KAAAH,EAAA,YAA6BI,OAAOO,YAAA,QAAAlB,KAAA,WAAAmB,MAAAf,EAAAN,eAAkEsB,OAAQC,MAAAjB,EAAA,SAAAkB,SAAA,SAAAC,GAA8CnB,EAAA7B,SAAAgD,GAAiBC,WAAA,cAAwBpB,EAAAM,GAAA,KAAAH,EAAA,aAA8BI,OAAOX,KAAAI,EAAAJ,KAAAyB,KAAA,QAAAC,SAAAtB,EAAAH,SAAsD0B,UAAWC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA3B,MAAAoD,OAA2BzB,EAAAM,GAAA,qBAE//BoB,oBCCjB,IAcAC,EAdyBhB,EAAQ,OAcjCiB,CACE/D,EACAiC,GATF,EAVA,SAAA+B,GACElB,EAAQ,SAaV,KAEA,MAUemB,EAAA,QAAAH,EAAiB","file":"static/js/4.6cd99135b9f24aa65107.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Backheader/>\r\n    <div class=\"content\">\r\n      <div class=\"loginbox\">\r\n        <div class=\"box\">\r\n            <mt-cell title=\"用户登录\" class=\"loginTitle\">\r\n              <span class=\"note\">欢迎登录优奇美商城</span>\r\n              <img slot=\"icon\" src=\"../../static/icon/login.png\" width=\"24\" height=\"24\">\r\n            </mt-cell>\r\n            <mt-field placeholder=\"请输入手机号\" type=\"tel\" v-model=\"phone\" :state=\"phoneState\"></mt-field>\r\n            <mt-field placeholder=\"请输入密码\" type=\"password\" v-model=\"password\" :state=\"passwordState\"></mt-field>\r\n            <mt-button :type=\"type\" size=\"large\" :disabled='isAllOk' @click.native=\"login\">登录</mt-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport Backheader from \"@/components/common/Backheader\";\r\nimport { Button,Field,Toast, Cell } from \"mint-ui\";\r\nimport axios from 'axios'\r\nimport {mapState,mapActions,mapGetters} from 'vuex'\r\n\r\nVue.use(Button, Field, Cell);\r\n\r\nexport default {\r\n  name: \"register\",\r\n  components: {\r\n    Backheader\r\n  },\r\n  data() {\r\n    return {\r\n      phone: '',\r\n      password: ''\r\n    }\r\n  },\r\n  methods:{\r\n    login(){\r\n      axios.post('https://www.daxunxun.com/users/login',{\r\n        username:this.phone,\r\n        password:this.password\r\n      }).then(data=>{\r\n        // console.log(data)\r\n        if(data.data === -1){\r\n          Toast({\r\n            message: '密 码 错 误',\r\n            iconClass: 'iconfont icon-Warning'\r\n          });\r\n        }else if(data.data === 2){\r\n          Toast({\r\n            message: '没有该用户',\r\n            iconClass: 'iconfont icon-error'\r\n          });\r\n        }else if(data.data === 0){\r\n          Toast({\r\n            message: '登 录 失 败',\r\n            iconClass: 'iconfont icon-error'\r\n          });\r\n        }else{\r\n          Toast({\r\n            message: '登 陆 成 功',\r\n            iconClass: 'iconfont icon-popsuccess'\r\n          });\r\n          this.$store.commit('changeLoginState',true)\r\n          this.$router.push('/user')\r\n        }\r\n      }).catch(err=>console.log(err))\r\n    }\r\n    // login(){\r\n    //   this.requestLoginStateData(this.phone,this.password).then(data=>{\r\n    //     console.log(data.data)\r\n    //     if(data.data === -1){\r\n    //       Toast({\r\n    //         message: '密码错误',\r\n    //         position: 'middle',\r\n    //         duration: 3000\r\n    //       });\r\n    //     }else if(data.data === 2){\r\n    //       Toast({\r\n    //         message: '没有该用户',\r\n    //         position: 'middle',\r\n    //         duration: 3000\r\n    //       });\r\n    //     }else if(data.data === 0){\r\n    //       Toast({\r\n    //         message: '登录失败',\r\n    //         position: 'middle',\r\n    //         duration: 3000\r\n    //       });\r\n    //     }else{\r\n    //       Toast({\r\n    //         message: '登陆成功',\r\n    //         position: 'middle',\r\n    //         duration: 3000\r\n    //       });\r\n    //       localStorage.setItem('isLogin','ok')\r\n    //       this.$router.push('/user')\r\n    //     }\r\n    //   }).catch(err=>console.log(err))\r\n    // },\r\n    // ...mapActions(['requestLoginStateData'])\r\n\r\n  },\r\n  computed:{\r\n    phoneState(){\r\n      if(this.phone === ''){\r\n        return ''\r\n      }else{\r\n        if(/^1[3|4|5|6|7|8|9][0-9]\\d{8}$/.test(this.phone)){\r\n          return 'success'\r\n        }else{\r\n          return 'error'\r\n        }\r\n      }\r\n    },\r\n    passwordState(){\r\n      if(this.password === ''){\r\n        return ''\r\n      }else{\r\n        if(this.password.length >= 6){\r\n          return 'success'\r\n        }else{\r\n          return 'error'\r\n        }\r\n      }\r\n    },\r\n    type(){\r\n      if(this.phoneState==='success' && this.passwordState==='success' ){\r\n        return 'primary'\r\n      }else{\r\n        return 'default'\r\n      }\r\n    },\r\n    isAllOk(){\r\n      if(this.phoneState==='success' && this.passwordState==='success' ){\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/qunar/reset.scss\";\r\n\r\n.loginbox {\r\n  @include rect(100%, 100%);\r\n  // @include background-color(#ff9e01);\r\n  div.box {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    @include margin(auto);\r\n    @include rect(90%, 40%);\r\n    .loginTitle{\r\n      @include background-color(#ff9e01);\r\n      span.note{\r\n        @include color(#fff);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('Backheader'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"loginbox\"},[_c('div',{staticClass:\"box\"},[_c('mt-cell',{staticClass:\"loginTitle\",attrs:{\"title\":\"用户登录\"}},[_c('span',{staticClass:\"note\"},[_vm._v(\"欢迎登录优奇美商城\")]),_vm._v(\" \"),_c('img',{attrs:{\"slot\":\"icon\",\"src\":require(\"../../static/icon/login.png\"),\"width\":\"24\",\"height\":\"24\"},slot:\"icon\"})]),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入手机号\",\"type\":\"tel\",\"state\":_vm.phoneState},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\",\"state\":_vm.passwordState},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":_vm.type,\"size\":\"large\",\"disabled\":_vm.isAllOk},nativeOn:{\"click\":function($event){return _vm.login($event)}}},[_vm._v(\"登录\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ea6fe7d2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ea6fe7d2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ea6fe7d2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}