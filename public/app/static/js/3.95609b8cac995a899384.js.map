{"version":3,"sources":["webpack:///src/pages/Register.vue","webpack:///./src/pages/Register.vue?30ca","webpack:///./src/pages/Register.vue","webpack:///./static/icon/register.png"],"names":["vue_esm","use","field_default","a","button_default","cell_default","Register","name","components","Backheader","data","username","phone","password","code","adminCode","sendMsg","isSend","methods","login","this","$router","push","sendCode","_this","phoneState","time","timer","setInterval","clearInterval","axios_default","get","then","console","log","toast_default","message","iconClass","catch","err","position","duration","sendRegister","_this2","post","$store","commit","computed","usernameState","test","codeState","passwordState","length","type","isAllOk","pages_Register","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","title","slot","src","__webpack_require__","width","height","placeholder","state","model","value","callback","$$v","expression","plain","disabled","nativeOn","click","$event","_s","size","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/3.95609b8cac995a899384.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <Backheader/>\r\n    <div class=\"content\">\r\n      <div class=\"registerbox\">\r\n        <div class=\"box\">\r\n          <mt-cell title=\"用户注册\" class=\"loginTitle\">\r\n            <span class=\"note\">欢迎注册商城会员</span>\r\n            <img slot=\"icon\" src=\"../../static/icon/register.png\" width=\"24\" height=\"24\">\r\n          </mt-cell>\r\n          <mt-field placeholder=\"请输入用户名\" v-model=\"username\" :state=\"usernameState\"></mt-field>\r\n          <mt-field placeholder=\"请输入手机号\" type=\"tel\" v-model=\"phone\" :state=\"phoneState\"></mt-field>\r\n          <mt-field placeholder=\"请输入验证码\" type=\"tel\" :state=\"codeState\" v-model=\"code\">\r\n            <mt-button plain @click.native=\"sendCode\" :disabled=\"isSend\">{{ sendMsg }}</mt-button>\r\n          </mt-field>\r\n          <mt-field placeholder=\"请输入密码\" type=\"password\" v-model=\"password\" :state=\"passwordState\"></mt-field>\r\n          <mt-button :type=\"type\" size=\"large\" :disabled=\"isAllOk\" @click.native=\"sendRegister\">会员注册</mt-button>\r\n\r\n\r\n          <mt-cell title=\"若已经注册，请直接登录\" class=\"loginTitle loginTab\">\r\n            <span class=\"note\">欢迎登录</span>\r\n            <img slot=\"icon\" src=\"../../static/icon/login.png\" width=\"24\" height=\"24\">\r\n          </mt-cell>\r\n          <mt-button type=\"primary\" size=\"large\" @click.native=\"login\">会员登录</mt-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from \"vue\";\r\nimport Backheader from \"@/components/common/Backheader\";\r\nimport { Field, Button, Cell, Toast } from \"mint-ui\";\r\nimport axios from \"axios\";\r\n\r\nVue.use(Field, Button, Cell);\r\n\r\nexport default {\r\n  name: \"register\",\r\n  components: {\r\n    Backheader\r\n  },\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      phone: \"\",\r\n      password: \"\",\r\n      code: \"\",\r\n      adminCode: \"111\",\r\n      sendMsg: \"发送验证码\",\r\n      isSend: false\r\n    };\r\n  },\r\n  methods: {\r\n    login(){\r\n      this.$router.push('/login')\r\n    },\r\n    sendCode() {\r\n      if (this.phoneState === \"success\") {\r\n        let time = 60;\r\n        let timer = setInterval(() => {\r\n          this.sendMsg = time + \"s后可重新发送\";\r\n          this.isSend = true;\r\n          time -= 1;\r\n          if (time < 0) {\r\n            clearInterval(timer);\r\n            this.sendMsg = \"发送验证码\";\r\n            this.isSend = false;\r\n          }\r\n        }, 1000);\r\n\r\n        axios\r\n          .get(\"https://www.daxunxun.com/users/sendCode?tel=\" + this.phone)\r\n          .then(data => {\r\n            console.log(data);\r\n            if (data.data === 1) {\r\n              Toast({\r\n                message: \"该用户已注册\",\r\n                iconClass: 'iconfont icon-Warning'\r\n              });\r\n            } else if (data.data === 0) {\r\n              Toast({\r\n                message: \"手机号验证码获取失败\",\r\n                iconClass: 'iconfont icon-error'\r\n              });\r\n            } else {\r\n              this.adminCode = data.data.code;\r\n            }\r\n          })\r\n          .catch(err => console.log(err));\r\n      } else {\r\n        Toast({\r\n          message: \"请先输入正确的手机号码\",\r\n          position: \"middle\",\r\n          duration: 3000\r\n        });\r\n      }\r\n    },\r\n    sendRegister() {\r\n      axios\r\n        .post(\"https://www.daxunxun.com/users/register\", {\r\n          username: this.phone,\r\n          password: this.password\r\n        })\r\n        .then(data => {\r\n          if (data.data === 2) {\r\n            Toast({\r\n              message: \"该用户已注册\",\r\n              iconClass: 'iconfont icon-Warning'\r\n            });\r\n          } else if (data.data === 0) {\r\n            Toast({\r\n              message: \"注 册 失 败\",\r\n              iconClass: 'iconfont icon-error'\r\n            });\r\n          } else {\r\n            Toast({\r\n              message: \"注 册 成 功！\",\r\n              iconClass: 'iconfont icon-popsuccess'\r\n            });\r\n            this.$store.commit('changeLoginState',true)\r\n            this.$router.push(\"/\"); //注册成功后跳转首页\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  },\r\n  computed: {\r\n    usernameState() {\r\n      if (this.username == \"\") {\r\n        return \"\";\r\n      } else {\r\n        if (/^[^ ]+$/.test(this.username)) {\r\n          return \"success\";\r\n        } else {\r\n          return \"error\";\r\n        }\r\n      }\r\n    },\r\n    phoneState() {\r\n      if (this.phone === \"\") {\r\n        return \"\";\r\n      } else {\r\n        if (/^1[3|4|5|6|7|8|9][0-9]\\d{8}$/.test(this.phone)) {\r\n          return \"success\";\r\n        } else {\r\n          return \"error\";\r\n        }\r\n      }\r\n    },\r\n    codeState() {\r\n      if (this.code === \"\") {\r\n        return \"\";\r\n      } else {\r\n        if (this.code === this.adminCode) {\r\n          return \"success\";\r\n        } else {\r\n          return \"error\";\r\n        }\r\n      }\r\n    },\r\n    passwordState() {\r\n      if (this.password === \"\") {\r\n        return \"\";\r\n      } else {\r\n        if (this.password.length >= 6) {\r\n          return \"success\";\r\n        } else {\r\n          return \"error\";\r\n        }\r\n      }\r\n    },\r\n    type() {\r\n      if (\r\n        this.usernameState === \"success\" &&\r\n        this.phoneState === \"success\" &&\r\n        this.passwordState === \"success\"\r\n      ) {\r\n        return \"primary\";\r\n      } else {\r\n        return \"default\";\r\n      }\r\n    },\r\n    isAllOk() {\r\n      if (\r\n        this.usernameState === \"success\" &&\r\n        this.phoneState === \"success\" &&\r\n        this.passwordState === \"success\"\r\n      ) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/qunar/reset.scss\";\r\n\r\n.registerbox {\r\n  @include rect(100%, 100%);\r\n  // @include background-color(#ff9e01);\r\n  div.box {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    @include margin(auto);\r\n    @include rect(90%, 70%);\r\n    .loginTitle{\r\n      @include background-color(#ff9e01);\r\n      span.note{\r\n        @include color(#fff);\r\n      }\r\n    }\r\n    .loginTab{\r\n      @include margin(0.5rem 0 0 0);\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('Backheader'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"registerbox\"},[_c('div',{staticClass:\"box\"},[_c('mt-cell',{staticClass:\"loginTitle\",attrs:{\"title\":\"用户注册\"}},[_c('span',{staticClass:\"note\"},[_vm._v(\"欢迎注册商城会员\")]),_vm._v(\" \"),_c('img',{attrs:{\"slot\":\"icon\",\"src\":require(\"../../static/icon/register.png\"),\"width\":\"24\",\"height\":\"24\"},slot:\"icon\"})]),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入用户名\",\"state\":_vm.usernameState},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入手机号\",\"type\":\"tel\",\"state\":_vm.phoneState},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入验证码\",\"type\":\"tel\",\"state\":_vm.codeState},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}},[_c('mt-button',{attrs:{\"plain\":\"\",\"disabled\":_vm.isSend},nativeOn:{\"click\":function($event){return _vm.sendCode($event)}}},[_vm._v(_vm._s(_vm.sendMsg))])],1),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\",\"state\":_vm.passwordState},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":_vm.type,\"size\":\"large\",\"disabled\":_vm.isAllOk},nativeOn:{\"click\":function($event){return _vm.sendRegister($event)}}},[_vm._v(\"会员注册\")]),_vm._v(\" \"),_c('mt-cell',{staticClass:\"loginTitle loginTab\",attrs:{\"title\":\"若已经注册，请直接登录\"}},[_c('span',{staticClass:\"note\"},[_vm._v(\"欢迎登录\")]),_vm._v(\" \"),_c('img',{attrs:{\"slot\":\"icon\",\"src\":require(\"../../static/icon/login.png\"),\"width\":\"24\",\"height\":\"24\"},slot:\"icon\"})]),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},nativeOn:{\"click\":function($event){return _vm.login($event)}}},[_vm._v(\"会员登录\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b17034f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b17034f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b17034f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Register.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/register.924043a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icon/register.png\n// module id = W6iL\n// module chunks = 3"],"sourceRoot":""}